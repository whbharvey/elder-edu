(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2935],{40114:(e,s,n)=>{"use strict";n.r(s),n.d(s,{default:()=>E});var r=n(95155),t=n(12115),d=n(97605),l=n(35125),a=n(20778),i=n(44670),c=n(37974),h=n(12320),o=n(28562),x=n(26922),j=n(30662),u=n(6124),g=n(19361),A=n(74947),m=n(56020),p=n(94600),y=n(18866),C=n(46002),I=n(52092),v=n(79659),b=n(13921),f=n(16913),k=n(46996),F=n(88870),w=n(15125),S=n(34140),N=n(12133);let{Title:D,Text:P,Paragraph:q}=d.A,{TabPane:z}=l.A,{Option:_}=a.A,O=[{id:1,studentId:"24100001",name:"张洪亮",idCard:"440101195001011234",phone:"13800138001",gender:"男",age:74,address:"广州市越秀区中山路123号",emergencyContact:"李四",emergencyPhone:"13800138002",courses:["太极拳基础班","书法提高班"],totalFee:500,registrationDate:"2024-01-15",status:"正常"},{id:2,studentId:"24100002",name:"王丽",idCard:"440101196001011234",phone:"13800138003",gender:"女",age:64,address:"广州市天河区天河路456号",emergencyContact:"赵六",emergencyPhone:"13800138004",courses:["摄影基础班"],totalFee:250,registrationDate:"2024-01-20",status:"正常"},{id:3,studentId:"24100003",name:"刘德华",idCard:"440101195509161234",phone:"13800138005",gender:"男",age:68,address:"广州市海珠区江南大道789号",emergencyContact:"张三",emergencyPhone:"13800138006",courses:["声乐班","健身养生班"],totalFee:750,registrationDate:"2024-01-22",status:"正常"},{id:4,studentId:"24100004",name:"林志玲",idCard:"440101197410121234",phone:"13800138007",gender:"女",age:49,address:"广州市番禺区市桥大道101号",emergencyContact:"王五",emergencyPhone:"13800138008",courses:["舞蹈班","插花艺术班"],totalFee:600,registrationDate:"2024-01-25",status:"正常"},{id:5,studentId:"24100005",name:"周杰伦",idCard:"440101197901181234",phone:"13800138009",gender:"男",age:45,address:"广州市白云区白云路222号",emergencyContact:"陈六",emergencyPhone:"13800138010",courses:["钢琴班","作曲班"],totalFee:1200,registrationDate:"2024-01-28",status:"请假"},{id:6,studentId:"24100006",name:"孙燕姿",idCard:"440101197807311234",phone:"13800138011",gender:"女",age:45,address:"广州市黄埔区开发大道333号",emergencyContact:"黄七",emergencyPhone:"13800138012",courses:["吉他班","英语口语班"],totalFee:800,registrationDate:"2024-02-01",status:"正常"},{id:7,studentId:"24100007",name:"张学友",idCard:"440101196107101234",phone:"13800138013",gender:"男",age:63,address:"广州市荔湾区芳村大道444号",emergencyContact:"吴八",emergencyPhone:"13800138014",courses:["声乐高级班","瑜伽班"],totalFee:950,registrationDate:"2024-02-05",status:"正常"},{id:8,studentId:"24100008",name:"赵雅芝",idCard:"440101197902091234",phone:"13800138015",gender:"女",age:45,address:"广州市越秀区东风东路555号",emergencyContact:"郑九",emergencyPhone:"13800138016",courses:["表演班","形体训练班"],totalFee:1100,registrationDate:"2024-02-10",status:"暂停"}];function E(){let[e,s]=(0,t.useState)(O),[n,d]=(0,t.useState)(""),[l,P]=(0,t.useState)(null),[z,E]=(0,t.useState)(!1),[L,T]=(0,t.useState)(!1),[K,M]=(0,t.useState)(!1),[V]=i.A.useForm(),[B,G]=(0,t.useState)("edit"),H=e.filter(e=>e.name.toLowerCase().includes(n.toLowerCase())||e.studentId.includes(n)||e.phone.includes(n)||e.idCard.includes(n)),J=e=>{P(e),E(!0)},Q=e=>{P(e),V.setFieldsValue(e),G("edit"),T(!0)},R=e=>{switch(e){case"正常":return(0,r.jsx)(c.A,{color:"success",children:"正常"});case"暂停":return(0,r.jsx)(c.A,{color:"warning",children:"暂停"});case"毕业":return(0,r.jsx)(c.A,{color:"processing",children:"毕业"});default:return(0,r.jsx)(c.A,{children:e})}},U=[{title:"学号",dataIndex:"studentId",key:"studentId",sorter:(e,s)=>e.studentId.localeCompare(s.studentId)},{title:"姓名",dataIndex:"name",key:"name",render:(e,s)=>(0,r.jsxs)(h.A,{children:[(0,r.jsx)(o.A,{style:{backgroundColor:"男"===s.gender?"#1677ff":"#eb2f96"},children:e.substring(0,1)}),(0,r.jsx)("span",{children:e})]})},{title:"性别",dataIndex:"gender",key:"gender",filters:[{text:"男",value:"男"},{text:"女",value:"女"}],onFilter:(e,s)=>s.gender===e},{title:"年龄",dataIndex:"age",key:"age",sorter:(e,s)=>e.age-s.age},{title:"手机号",dataIndex:"phone",key:"phone"},{title:"报名课程",dataIndex:"courses",key:"courses",render:e=>(0,r.jsx)(r.Fragment,{children:e.map(e=>(0,r.jsx)(c.A,{color:"blue",children:e},e))})},{title:"状态",dataIndex:"status",key:"status",render:e=>R(e),filters:[{text:"正常",value:"正常"},{text:"暂停",value:"暂停"},{text:"毕业",value:"毕业"}],onFilter:(e,s)=>s.status===e},{title:"操作",key:"action",render:(e,s)=>(0,r.jsxs)(h.A,{size:"middle",children:[(0,r.jsx)(x.A,{title:"查看详情",children:(0,r.jsx)(j.Ay,{type:"text",icon:(0,r.jsx)(I.A,{}),onClick:()=>J(s)})}),(0,r.jsx)(x.A,{title:"编辑信息",children:(0,r.jsx)(j.Ay,{type:"text",icon:(0,r.jsx)(v.A,{}),onClick:()=>Q(s)})})]})}];return(0,r.jsxs)("div",{className:"space-y-8 animate-in fade-in duration-700",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(D,{level:2,className:"!m-0",children:"学员管理"}),(0,r.jsx)(q,{className:"text-gray-600",children:"管理学员信息，包括查询、编辑、退费等操作"}),(0,r.jsx)("div",{className:"w-20 h-1 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full"})]}),(0,r.jsxs)(h.A,{children:[(0,r.jsx)(j.Ay,{icon:(0,r.jsx)(b.A,{}),children:"导入数据"}),(0,r.jsx)(j.Ay,{icon:(0,r.jsx)(f.A,{}),children:"导出数据"}),(0,r.jsx)(j.Ay,{type:"primary",icon:(0,r.jsx)(k.A,{}),onClick:()=>{V.resetFields(),G("add"),T(!0)},children:"新增学员"})]})]}),(0,r.jsx)(u.A,{children:(0,r.jsxs)(h.A,{direction:"vertical",style:{width:"100%"},children:[(0,r.jsxs)(g.A,{gutter:16,children:[(0,r.jsx)(A.A,{span:8,children:(0,r.jsx)(m.A,{placeholder:"搜索学员姓名、学号、手机号或身份证号",prefix:(0,r.jsx)(F.A,{}),allowClear:!0,value:n,onChange:e=>d(e.target.value)})}),(0,r.jsx)(A.A,{span:16,children:(0,r.jsxs)(h.A,{children:[(0,r.jsx)(j.Ay,{icon:(0,r.jsx)(w.A,{}),children:"高级筛选"}),(0,r.jsx)(j.Ay,{icon:(0,r.jsx)(S.A,{}),onClick:()=>d(""),children:"重置"})]})})]}),(0,r.jsx)(p.A,{style:{margin:"12px 0"}})]})}),(0,r.jsx)(u.A,{children:(0,r.jsx)(y.A,{columns:U,dataSource:H,rowKey:"id",pagination:{pageSize:10,showSizeChanger:!0,showTotal:e=>"共 ".concat(e," 条记录")}})}),(0,r.jsx)(C.A,{title:"学员详细信息",open:z,onCancel:()=>E(!1),footer:[(0,r.jsx)(j.Ay,{onClick:()=>E(!1),children:"关闭"},"close"),(0,r.jsx)(j.Ay,{type:"primary",onClick:()=>{E(!1),Q(l)},children:"编辑信息"},"edit")],width:700,children:l&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)(g.A,{gutter:[16,16],children:[(0,r.jsx)(A.A,{span:12,children:(0,r.jsxs)(u.A,{size:"small",title:"基本信息",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"学号："})," ",l.studentId]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"姓名："})," ",l.name]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"性别："})," ",l.gender]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"年龄："})," ",l.age]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"身份证号："})," ",l.idCard]})]})}),(0,r.jsx)(A.A,{span:12,children:(0,r.jsxs)(u.A,{size:"small",title:"联系方式",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"手机号："})," ",l.phone]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"地址："})," ",l.address]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"紧急联系人："})," ",l.emergencyContact]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"紧急联系电话："})," ",l.emergencyPhone]})]})})]}),(0,r.jsxs)(u.A,{size:"small",title:"课程信息",children:[(0,r.jsx)("p",{children:(0,r.jsx)("strong",{children:"报名课程："})}),(0,r.jsx)("div",{className:"space-y-4",children:l.courses.map(e=>(0,r.jsx)(u.A,{size:"small",className:"bg-gray-50",title:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{children:e}),(0,r.jsx)(c.A,{color:"green",children:"已缴费"})]}),children:(0,r.jsxs)(g.A,{gutter:[16,8],children:[(0,r.jsxs)(A.A,{span:12,children:[(0,r.jsx)("strong",{children:"学期："})," ",(0,r.jsx)(c.A,{color:"purple",children:"2024年春季学期"})]}),(0,r.jsxs)(A.A,{span:12,children:[(0,r.jsx)("strong",{children:"报名日期："})," ",l.registrationDate]}),(0,r.jsxs)(A.A,{span:12,children:[(0,r.jsx)("strong",{children:"缴费金额："})," \xa5",(l.totalFee/l.courses.length).toFixed(2)]}),(0,r.jsxs)(A.A,{span:12,children:[(0,r.jsx)("strong",{children:"上课时间："})," 每周一、三 14:00-16:00"]}),(0,r.jsxs)(A.A,{span:12,children:[(0,r.jsx)("strong",{children:"总课时："})," 24课时"]}),(0,r.jsxs)(A.A,{span:12,children:[(0,r.jsx)("strong",{children:"已上课时："})," 8课时"]}),(0,r.jsxs)(A.A,{span:12,children:[(0,r.jsx)("strong",{children:"剩余课时："})," 16课时"]}),(0,r.jsxs)(A.A,{span:24,children:[(0,r.jsx)("strong",{children:"任课老师："})," 王老师"]})]})},e))}),(0,r.jsx)(p.A,{style:{margin:"16px 0"}}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"学员状态："})," ",R(l.status)]})]})]})}),(0,r.jsx)(C.A,{title:"edit"===B?"编辑学员信息":"新增学员",open:L,onOk:()=>{V.validateFields().then(n=>{if("edit"===B)s(e.map(e=>e.id===l.id?{...e,...n}:e));else{let r={...n,id:Math.max(...e.map(e=>e.id))+1,studentId:"24100".concat((e.length+1).toString().padStart(3,"0")),registrationDate:new Date().toISOString().split("T")[0],status:"正常"};s([...e,r])}T(!1),M(!1),V.resetFields()})},onCancel:()=>T(!1),width:700,children:(0,r.jsxs)(i.A,{form:V,layout:"vertical",children:[(0,r.jsxs)(g.A,{gutter:16,children:[(0,r.jsx)(A.A,{span:12,children:(0,r.jsx)(i.A.Item,{name:"studentId",label:(0,r.jsxs)("span",{children:["学号 ",(0,r.jsx)(x.A,{title:"初始添加时系统会自动生成，可再次修改",children:(0,r.jsx)(N.A,{})})]}),rules:[{required:!0,message:"请输入学号"}],children:(0,r.jsx)(m.A,{placeholder:"请输入学号"})})}),(0,r.jsx)(A.A,{span:12,children:(0,r.jsx)(i.A.Item,{name:"name",label:"姓名",rules:[{required:!0,message:"请输入学员姓名"}],children:(0,r.jsx)(m.A,{placeholder:"请输入学员姓名"})})})]}),(0,r.jsxs)(g.A,{gutter:16,children:[(0,r.jsx)(A.A,{span:12,children:(0,r.jsx)(i.A.Item,{name:"idCard",label:"身份证号",rules:[{required:!0,message:"请输入身份证号"}],children:(0,r.jsx)(m.A,{placeholder:"请输入身份证号"})})}),(0,r.jsx)(A.A,{span:12,children:(0,r.jsx)(i.A.Item,{name:"phone",label:"手机号",rules:[{required:!0,message:"请输入手机号"}],children:(0,r.jsx)(m.A,{placeholder:"请输入手机号"})})})]}),(0,r.jsxs)(g.A,{gutter:16,children:[(0,r.jsx)(A.A,{span:12,children:(0,r.jsx)(i.A.Item,{name:"emergencyContact",label:"紧急联系人",rules:[{required:!0,message:"请输入紧急联系人"}],children:(0,r.jsx)(m.A,{placeholder:"请输入紧急联系人"})})}),(0,r.jsx)(A.A,{span:12,children:(0,r.jsx)(i.A.Item,{name:"emergencyPhone",label:"紧急联系电话",rules:[{required:!0,message:"请输入紧急联系电话"}],children:(0,r.jsx)(m.A,{placeholder:"请输入紧急联系电话"})})})]}),(0,r.jsxs)(g.A,{gutter:16,children:[(0,r.jsx)(A.A,{span:8,children:(0,r.jsx)(i.A.Item,{name:"age",label:(0,r.jsxs)("span",{children:["年龄 ",(0,r.jsx)(x.A,{title:"年龄是由身份证号自动计算得到",children:(0,r.jsx)(N.A,{})})]}),rules:[{required:!0,message:"请输入年龄"}],children:(0,r.jsx)(m.A,{type:"number",placeholder:"请输入年龄",disabled:!0})})}),(0,r.jsx)(A.A,{span:8,children:(0,r.jsx)(i.A.Item,{name:"gender",label:"性别",rules:[{required:!1,message:"请选择性别"}],children:(0,r.jsxs)(a.A,{placeholder:"请选择性别",children:[(0,r.jsx)(_,{value:"男",children:"男"}),(0,r.jsx)(_,{value:"女",children:"女"})]})})}),(0,r.jsx)(A.A,{span:8,children:(0,r.jsx)(i.A.Item,{name:"status",label:"状态",children:(0,r.jsxs)(a.A,{placeholder:"请选择状态",children:[(0,r.jsx)(_,{value:"正常",children:"正常"}),(0,r.jsx)(_,{value:"暂停",children:"暂停"}),(0,r.jsx)(_,{value:"毕业",children:"毕业"})]})})})]}),(0,r.jsx)(i.A.Item,{name:"address",label:"地址",children:(0,r.jsx)(m.A,{placeholder:"请输入地址"})})]})})]})}},86588:(e,s,n)=>{Promise.resolve().then(n.bind(n,40114))}},e=>{var s=s=>e(e.s=s);e.O(0,[2239,6034,4405,7641,6467,7062,7845,4069,6002,4670,9539,8441,1684,7358],()=>s(86588)),_N_E=e.O()}]);