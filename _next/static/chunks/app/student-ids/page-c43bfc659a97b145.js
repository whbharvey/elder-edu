(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[617],{6848:(e,s,t)=>{Promise.resolve().then(t.bind(t,69298))},69298:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>q});var l=t(95155),n=t(12115),r=t(97605),i=t(20778),d=t(46002),a=t(37974),c=t(12320),x=t(26922),j=t(30662),u=t(19361),o=t(74947),h=t(6124),A=t(44297),m=t(56020),y=t(94600),p=t(18866),f=t(85),v=t(89631),g=t(52092),b=t(92611),w=t(34140),N=t(16913),S=t(93639),I=t(50274),k=t(24073),C=t(25953),O=t(88870);let{Title:z,Text:D,Paragraph:_}=r.A,{Option:E}=i.A,T=[{id:1,studentId:"24100001",studentName:"张三",semester:"2024春季",courses:["太极拳基础班","书法提高班"],isOldStudent:!1,generateDate:"2024-01-15"},{id:2,studentId:"23200156",studentName:"王五",semester:"2023秋季",courses:["摄影基础班"],isOldStudent:!0,generateDate:"2023-08-20"}];function q(){let[e,s]=(0,n.useState)(T),[t,r]=(0,n.useState)(""),[q,L]=(0,n.useState)(null),[V,F]=(0,n.useState)(!1),[K,P]=(0,n.useState)(!1),B=e.filter(e=>e.studentName.toLowerCase().includes(t.toLowerCase())||e.studentId.includes(t)),G=e=>{L(e),F(!0)},H=e=>{let s=e.substring(0,2),t=e.substring(2,3),l=e.substring(3);return{year:"20".concat(s),semester:({1:"春季",2:"秋季",3:"其他"})[t]||"未知",sequence:Number.parseInt(l)}},J=[{title:"学号",dataIndex:"studentId",key:"studentId",render:e=>(0,l.jsx)(a.A,{color:"blue",className:"font-mono",children:e})},{title:"学员姓名",dataIndex:"studentName",key:"studentName"},{title:"学期",dataIndex:"semester",key:"semester"},{title:"学号解析",key:"parsed",render:(e,s)=>{let t=H(s.studentId);return(0,l.jsxs)(c.A,{direction:"vertical",size:0,children:[(0,l.jsxs)(D,{children:[t.year,"年 ",t.semester]}),(0,l.jsxs)(D,{type:"secondary",children:["序号: ",t.sequence]})]})}},{title:"报读课程",dataIndex:"courses",key:"courses",render:e=>(0,l.jsx)(c.A,{size:[0,4],wrap:!0,children:e.map((e,s)=>(0,l.jsx)(a.A,{children:e},s))})},{title:"类型",key:"type",render:(e,s)=>(0,l.jsx)(a.A,{color:s.isOldStudent?"default":"success",children:s.isOldStudent?"旧生":"新生"}),filters:[{text:"新生",value:!1},{text:"旧生",value:!0}],onFilter:(e,s)=>s.isOldStudent===e},{title:"生成时间",dataIndex:"generateDate",key:"generateDate",sorter:(e,s)=>new Date(e.generateDate).getTime()-new Date(s.generateDate).getTime()},{title:"操作",key:"action",render:(e,s)=>(0,l.jsx)(x.A,{title:"查看详情",children:(0,l.jsx)(j.Ay,{type:"text",icon:(0,l.jsx)(g.A,{}),onClick:()=>G(s)})})}];return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(z,{level:2,children:"学号管理"}),(0,l.jsx)(_,{className:"text-gray-600",children:"管理学员学号，支持自动生成和规则配置"})]}),(0,l.jsxs)(c.A,{children:[(0,l.jsx)(j.Ay,{icon:(0,l.jsx)(b.A,{}),onClick:()=>P(!0),children:"生成规则"}),(0,l.jsx)(j.Ay,{icon:(0,l.jsx)(w.A,{}),onClick:()=>{d.A.confirm({title:"批量生成学号",content:"确定要为新学期批量生成学号吗？",onOk(){d.A.success({content:"学号生成完成"})}})},children:"批量生成"}),(0,l.jsx)(j.Ay,{icon:(0,l.jsx)(N.A,{}),children:"导出学号"})]})]}),(0,l.jsxs)(u.A,{gutter:[16,16],children:[(0,l.jsx)(o.A,{xs:24,sm:12,lg:6,children:(0,l.jsx)(h.A,{hoverable:!0,children:(0,l.jsx)(A.A,{title:"总学号数",value:e.length,prefix:(0,l.jsx)(S.A,{}),suffix:"已生成学号总数",valueStyle:{color:"#1890ff"}})})}),(0,l.jsx)(o.A,{xs:24,sm:12,lg:6,children:(0,l.jsx)(h.A,{hoverable:!0,children:(0,l.jsx)(A.A,{title:"本学期新生",value:e.filter(e=>!e.isOldStudent&&"2024春季"===e.semester).length,prefix:(0,l.jsx)(I.A,{}),suffix:"2024春季新生学号",valueStyle:{color:"#52c41a"}})})}),(0,l.jsx)(o.A,{xs:24,sm:12,lg:6,children:(0,l.jsx)(h.A,{hoverable:!0,children:(0,l.jsx)(A.A,{title:"旧生学号",value:e.filter(e=>e.isOldStudent).length,prefix:(0,l.jsx)(k.A,{}),suffix:"沿用旧学号",valueStyle:{color:"#fa8c16"}})})}),(0,l.jsx)(o.A,{xs:24,sm:12,lg:6,children:(0,l.jsx)(h.A,{hoverable:!0,children:(0,l.jsx)(A.A,{title:"下个序号",value:"24100002",prefix:(0,l.jsx)(C.A,{}),suffix:"下个新生学号",valueStyle:{color:"#722ed1"}})})})]}),(0,l.jsx)(h.A,{title:"学号列表",extra:(0,l.jsx)(D,{type:"secondary",children:"学号格式：年份(2位) + 学期(1位) + 序号(5位)"}),children:(0,l.jsxs)(c.A,{direction:"vertical",style:{width:"100%"},children:[(0,l.jsxs)(u.A,{gutter:16,children:[(0,l.jsx)(o.A,{span:8,children:(0,l.jsx)(m.A,{placeholder:"搜索学员姓名或学号",prefix:(0,l.jsx)(O.A,{}),allowClear:!0,value:t,onChange:e=>r(e.target.value)})}),(0,l.jsx)(o.A,{span:4,children:(0,l.jsxs)(i.A,{defaultValue:"all",style:{width:"100%"},children:[(0,l.jsx)(E,{value:"all",children:"全部学期"}),(0,l.jsx)(E,{value:"2024spring",children:"2024春季"}),(0,l.jsx)(E,{value:"2023autumn",children:"2023秋季"})]})}),(0,l.jsx)(o.A,{span:4,children:(0,l.jsxs)(i.A,{defaultValue:"all",style:{width:"100%"},children:[(0,l.jsx)(E,{value:"all",children:"全部类型"}),(0,l.jsx)(E,{value:"new",children:"新生"}),(0,l.jsx)(E,{value:"old",children:"旧生"})]})})]}),(0,l.jsx)(y.A,{style:{margin:"12px 0"}}),(0,l.jsx)(p.A,{columns:J,dataSource:B,rowKey:"id",pagination:{pageSize:10,showSizeChanger:!0,showTotal:e=>"共 ".concat(e," 条记录")}})]})}),(0,l.jsx)(d.A,{title:"学号生成规则",open:K,onCancel:()=>P(!1),footer:[(0,l.jsx)(j.Ay,{onClick:()=>P(!1),children:"关闭"},"close")],width:600,children:(0,l.jsxs)(c.A,{direction:"vertical",style:{width:"100%"},children:[(0,l.jsxs)(h.A,{size:"small",children:[(0,l.jsx)(D,{strong:!0,children:"学号格式"}),(0,l.jsxs)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:[(0,l.jsx)(D,{code:!0,children:"年份(2位) + 学期(1位) + 序号(5位)"}),(0,l.jsx)("br",{}),(0,l.jsx)(D,{type:"secondary",className:"text-xs",children:"例如：24100001 = 2024年春季第1号"})]})]}),(0,l.jsxs)(h.A,{size:"small",children:[(0,l.jsx)(D,{strong:!0,children:"学期编码"}),(0,l.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center p-2 border rounded",children:[(0,l.jsx)("span",{children:"春季学期"}),(0,l.jsx)(f.A,{count:"1"})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center p-2 border rounded",children:[(0,l.jsx)("span",{children:"秋季学期"}),(0,l.jsx)(f.A,{count:"2"})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center p-2 border rounded",children:[(0,l.jsx)("span",{children:"其他学期"}),(0,l.jsx)(f.A,{count:"3"})]})]})]}),(0,l.jsxs)(h.A,{size:"small",children:[(0,l.jsx)(D,{strong:!0,children:"序号规则"}),(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsxs)(D,{type:"secondary",children:["• 新生按报名顺序从00001开始编号",(0,l.jsx)("br",{}),"• 旧生沿用原有学号",(0,l.jsx)("br",{}),"• 每个学期新生序号重新开始",(0,l.jsx)("br",{}),"• 其他学期按年度重新开始"]})})]})]})}),(0,l.jsx)(d.A,{title:"学号详情",open:V,onCancel:()=>F(!1),footer:[(0,l.jsx)(j.Ay,{onClick:()=>F(!1),children:"关闭"},"close")],width:600,children:q&&(0,l.jsxs)(v.A,{bordered:!0,column:2,size:"small",children:[(0,l.jsx)(v.A.Item,{label:"学号",span:2,children:(0,l.jsx)(a.A,{color:"blue",className:"font-mono",children:q.studentId})}),(0,l.jsx)(v.A.Item,{label:"学员姓名",children:q.studentName}),(0,l.jsx)(v.A.Item,{label:"所属学期",children:q.semester}),(0,l.jsx)(v.A.Item,{label:"学员类型",span:2,children:(0,l.jsx)(a.A,{color:q.isOldStudent?"default":"success",children:q.isOldStudent?"旧生":"新生"})}),(0,l.jsx)(v.A.Item,{label:"报读课程",span:2,children:(0,l.jsx)(c.A,{size:[0,4],wrap:!0,children:q.courses.map((e,s)=>(0,l.jsx)(a.A,{children:e},s))})}),(0,l.jsx)(v.A.Item,{label:"生成时间",span:2,children:q.generateDate})]})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[2239,6034,4405,7641,6467,7062,7845,4069,6002,85,6776,9312,8441,1684,7358],()=>s(6848)),_N_E=e.O()}]);